# æš—é»‘åœ°ç‰¢è‚‰é¸½æ¸¸æˆ (Dark Dungeon Roguelike)

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºVue.jså’ŒSpring Bootå¼€å‘çš„æš—é»‘åœ°ç‰¢é£æ ¼çš„è‚‰é¸½å¡ç‰Œæ¸¸æˆã€‚ç©å®¶å¯ä»¥åœ¨éšæœºç”Ÿæˆçš„åœ°ä¸‹åŸä¸­æ¢ç´¢æˆ˜æ–—ï¼Œé€šè¿‡å¡ç‰Œæˆ˜æ–—ç³»ç»Ÿå‡»è´¥æ•Œäººï¼Œæ”¶é›†è£…å¤‡å’Œèµ„æºã€‚

## ä¸»è¦åŠŸèƒ½

### ğŸ® æ ¸å¿ƒç©æ³•
- **éšæœºåœ°ç‰¢æ¢ç´¢**ï¼šæ¯ä¸ªåœ°ç‰¢éƒ½æœ‰ç‹¬ç‰¹çš„æˆ¿é—´å¸ƒå±€å’Œäº‹ä»¶
- **å¡ç‰Œæˆ˜æ–—ç³»ç»Ÿ**ï¼šä½¿ç”¨å¡ç‰Œè¿›è¡Œå›åˆåˆ¶æˆ˜æ–—
- **è§’è‰²å‡çº§ç³»ç»Ÿ**ï¼šè§’è‰²å¯ä»¥é€šè¿‡å‡æ˜Ÿè·å¾—æ›´å¼ºå¤§çš„èƒ½åŠ›
- **è£…å¤‡ç³»ç»Ÿ**ï¼šæ”¶é›†å„ç§æ­¦å™¨ã€æŠ¤ç”²å’Œé¥°å“
- **å•†åº—ç³»ç»Ÿ**ï¼šåœ¨è¥åœ°è´­ä¹°å¡ç‰Œã€è£…å¤‡å’Œé“å…·

### ğŸ“Š æ¸¸æˆç³»ç»Ÿ
- **ç”¨æˆ·æ³¨å†Œç™»å½•**ï¼šæ”¯æŒç”¨æˆ·è´¦æˆ·ç³»ç»Ÿ
- **é‡‘å¸ç³»ç»Ÿ**ï¼šé€šè¿‡æˆ˜æ–—å’Œäº‹ä»¶è·å¾—é‡‘å¸
- **é“å…·ç³»ç»Ÿ**ï¼šæ²»ç–—è¯æ°´ã€èƒ½é‡é¥®æ–™ç­‰æ¶ˆè€—å“
- **æˆå°±ç³»ç»Ÿ**ï¼šå®Œæˆå„ç§æŒ‘æˆ˜è·å¾—æˆå°±
- **å‹åŠ›ç³»ç»Ÿ**ï¼šæ¨¡æ‹Ÿæš—é»‘åœ°ç‰¢çš„å¿ƒç†å‹åŠ›æœºåˆ¶

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Vue 3** - æ¸è¿›å¼JavaScriptæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›†
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **UnoCSS** - åŸå­åŒ–CSSæ¡†æ¶
- **Pinia** - VueçŠ¶æ€ç®¡ç†åº“

### åç«¯
- **Spring Boot 2.7** - Javaä¼ä¸šçº§åº”ç”¨æ¡†æ¶
- **Spring Security** - å®‰å…¨æ¡†æ¶
- **JWT** - JSON Web Tokenè®¤è¯
- **MyBatis Plus** - MyBatiså¢å¼ºå·¥å…·
- **H2/MySQL** - æ•°æ®åº“

### æ•°æ®åº“
- **H2** - å¼€å‘ç¯å¢ƒå†…å­˜æ•°æ®åº“
- **MySQL** - ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“

## é¡¹ç›®ç»“æ„

```
dark-dungeon/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/main/java/com/dungeon/
â”‚   â”‚   â”œâ”€â”€ config/         # é…ç½®ç±»
â”‚   â”‚   â”œâ”€â”€ controller/     # RESTæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ service/        # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ mapper/         # MyBatisæ˜ å°„å™¨
â”‚   â”‚   â”œâ”€â”€ entity/         # å®ä½“ç±»
â”‚   â”‚   â”œâ”€â”€ dto/           # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â””â”€â”€ util/          # å·¥å…·ç±»
â”‚   â””â”€â”€ src/main/resources/ # èµ„æºæ–‡ä»¶
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ components/         # Vueç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ static/            # é™æ€èµ„æº
â”‚   â””â”€â”€ stores/            # PiniaçŠ¶æ€ç®¡ç†
â””â”€â”€ dark_dungeon.sql       # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **JDK 1.8+**
- **Node.js 16+**
- **Maven 3.6+**
- **MySQL 5.7+** (ç”Ÿäº§ç¯å¢ƒ)

### å®‰è£…è¿è¡Œ

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd dark-dungeon
```

#### 2. å¯åŠ¨åç«¯æœåŠ¡

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# ä½¿ç”¨Mavenè¿è¡Œï¼ˆå¼€å‘ç¯å¢ƒï¼‰
mvn spring-boot:run

# æˆ–è€…å…ˆç¼–è¯‘å†è¿è¡Œ
mvn clean package
java -jar target/dark-dungeon-backend-1.0.0.jar
```

åç«¯æœåŠ¡å°†åœ¨ http://localhost:8080 å¯åŠ¨

#### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯æœåŠ¡å°†åœ¨ http://localhost:5173 å¯åŠ¨

#### 4. æ•°æ®åº“é…ç½®

é¡¹ç›®é»˜è®¤ä½¿ç”¨H2å†…å­˜æ•°æ®åº“ï¼Œæ•°æ®å­˜å‚¨åœ¨ `./data/dungeon.mv.db` æ–‡ä»¶ä¸­ã€‚

ç”Ÿäº§ç¯å¢ƒä½¿ç”¨MySQLï¼Œä¿®æ”¹ `backend/src/main/resources/application.yml`ï¼š

```yaml
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/dungeon?useUnicode=true&characterEncoding=utf8
    username: your_username
    password: your_password
```

### è®¿é—®åœ°å€

- **å‰ç«¯åº”ç”¨**: http://localhost:5173
- **åç«¯API**: http://localhost:8080/api
- **H2æ§åˆ¶å°**: http://localhost:8080/api/h2-console

## APIæ¥å£æ–‡æ¡£

### è®¤è¯æ¥å£

#### ç”¨æˆ·æ³¨å†Œ
```
POST /api/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "test@example.com",
  "password": "123456"
}
```

#### ç”¨æˆ·ç™»å½•
```
POST /api/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "123456"
}
```

### æ¸¸æˆæ¥å£

#### è·å–ç”¨æˆ·å¡ç‰Œ
```
GET /api/game/cards
Authorization: Bearer {token}
```

#### è·å–æ•Œæ–¹å¡ç‰Œ
```
GET /api/game/enemy-cards?stage=1&difficulty=æ™®é€š
Authorization: Bearer {token}
```

## å¡ç‰Œå›¾ç‰‡ç³»ç»Ÿ

### å›¾ç‰‡å­˜å‚¨ç»“æ„

å¡ç‰Œå›¾ç‰‡å­˜å‚¨åœ¨ä»¥ä¸‹ä½ç½®ï¼š
- `frontend/static/paimian/` - è‰ºæœ¯å›¾ç‰‡ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰
- `frontend/static/images/shop/cards/` - IDæ˜ å°„å›¾ç‰‡ï¼ˆå¤‡ç”¨ï¼‰

### å›¾ç‰‡æŸ¥æ‰¾é€»è¾‘

1. ä¼˜å…ˆé€šè¿‡å¡ç‰Œåç§°åœ¨ `cardImageMap.json` ä¸­æŸ¥æ‰¾æ˜ å°„
2. å¦‚æœæ‰¾ä¸åˆ°ï¼Œå°è¯•é€šè¿‡å¡ç‰ŒIDæŸ¥æ‰¾ `static/images/shop/cards/{id}.png`
3. å¦‚æœä»æ‰¾ä¸åˆ°ï¼Œæ˜¾ç¤ºé»˜è®¤èƒŒæ™¯

### å›¾ç‰‡æ˜ å°„é…ç½®

åœ¨ `frontend/static/cardImageMap.json` ä¸­é…ç½®å¡ç‰Œå›¾ç‰‡æ˜ å°„ï¼š

```json
{
  "ç«çƒæœ¯": "/static/paimian/huoqiushu.png",
  "é¾™éª‘å£«": "/static/paimian/longqishi.png",
  "é‡ç”²ç›¾å«": "/static/paimian/zhongjiadunwei.png"
}
```

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ESLintè¿›è¡Œä»£ç æ£€æŸ¥
- ä½¿ç”¨Prettierè¿›è¡Œä»£ç æ ¼å¼åŒ–
- éµå¾ªVue 3 Composition APIæœ€ä½³å®è·µ
- åç«¯éµå¾ªSpring Bootç¼–ç è§„èŒƒ

### æ•°æ®åº“è¿ç§»

1. ä¿®æ”¹å®ä½“ç±»
2. æ›´æ–°MyBatisæ˜ å°„æ–‡ä»¶
3. æ‰§è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬

### å‰ç«¯å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä»£ç æ£€æŸ¥
npm run lint
```

### åç«¯å¼€å‘

```bash
# è¿è¡Œæµ‹è¯•
mvn test

# ç”ŸæˆAPIæ–‡æ¡£
mvn javadoc:javadoc

# æ‰“åŒ…åº”ç”¨
mvn clean package
```

## éƒ¨ç½²è¯´æ˜

ğŸ“‹ **è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ**: [DEPLOY.md](DEPLOY.md)

### å¿«é€Ÿå¼€å§‹

#### å¼€å‘ç¯å¢ƒ
```bash
# å¯åŠ¨åç«¯
cd backend && mvn spring-boot:run

# å¯åŠ¨å‰ç«¯ (æ–°ç»ˆç«¯)
cd frontend && npm install && npm run dev
```

#### ç”Ÿäº§ç¯å¢ƒ
```bash
# åç«¯éƒ¨ç½²
cd backend && mvn clean package && java -jar target/dark-dungeon-backend-1.0.0.jar

# å‰ç«¯éƒ¨ç½²
cd frontend && npm run build
```

## å¸¸è§é—®é¢˜

### Q: å¡ç‰Œå›¾ç‰‡ä¸æ˜¾ç¤ºæ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨äº `frontend/static/` ç›®å½•
2. æ£€æŸ¥ `cardImageMap.json` ä¸­çš„æ˜ å°„æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤å›¾ç‰‡æ–‡ä»¶åä¸å¡ç‰ŒIDæˆ–åç§°åŒ¹é…

### Q: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ

A: æ£€æŸ¥ï¼š
1. MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
3. ç”¨æˆ·æƒé™æ˜¯å¦è¶³å¤Ÿ

### Q: å‰åç«¯è”è°ƒå¤±è´¥ï¼Ÿ

A: æ£€æŸ¥ï¼š
1. åç«¯æœåŠ¡ç«¯å£æ˜¯å¦ä¸º8080
2. å‰ç«¯ä»£ç†é…ç½®æ˜¯å¦æ­£ç¡®
3. CORSé…ç½®æ˜¯å¦å…è®¸è·¨åŸŸ

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤å˜æ›´
4. å‘èµ·Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚

## é¡¹ç›®åæ€ä¸æ”¹è¿›è®¡åˆ’

### ğŸ¯ å½“å‰ä¼˜åŠ¿
- âœ… å‰åç«¯åˆ†ç¦»æ¶æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- âœ… æŠ€æœ¯æ ˆç°ä»£åŒ–ï¼šVue 3 + Spring Boot 2.7
- âœ… æ•°æ®åº“è®¾è®¡åˆç†ï¼Œæ”¯æŒå¤šç¯å¢ƒé…ç½®
- âœ… å®Œæ•´çš„ç”¨æˆ·è®¤è¯å’Œæƒé™ç³»ç»Ÿ
- âœ… ä¸°å¯Œçš„æ¸¸æˆç³»ç»Ÿï¼šå¡ç‰Œã€æŠ€èƒ½ã€è£…å¤‡ã€å•†åº—ç­‰

### ğŸ”„ å¾…æ”¹è¿›æ–¹å‘
- ğŸš€ **å®¹å™¨åŒ–éƒ¨ç½²**: æ·»åŠ Dockeræ”¯æŒï¼Œç®€åŒ–ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- ğŸ“Š **ç›‘æ§å‘Šè­¦**: é›†æˆåº”ç”¨æ€§èƒ½ç›‘æ§(APM)å’Œæ—¥å¿—èšåˆ
- ğŸ”„ **CI/CD**: é…ç½®è‡ªåŠ¨åŒ–æµ‹è¯•å’Œéƒ¨ç½²æµæ°´çº¿
- ğŸ’¾ **å¤‡ä»½æ¢å¤**: å®ç°æ•°æ®åº“è‡ªåŠ¨å¤‡ä»½å’Œå¿«é€Ÿæ¢å¤æœºåˆ¶
- ğŸŒ **å›½é™…åŒ–**: æ”¯æŒå¤šè¯­è¨€ç•Œé¢å’Œå†…å®¹æœ¬åœ°åŒ–
- ğŸ“± **ç§»åŠ¨ç«¯é€‚é…**: ä¼˜åŒ–ç§»åŠ¨è®¾å¤‡ä½“éªŒ
- ğŸ® **å®æ—¶å¯¹æˆ˜**: æ·»åŠ WebSocketæ”¯æŒï¼Œå®ç°å®æ—¶å¤šäººå¯¹æˆ˜

### ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–è®¡åˆ’
- å®ç°æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–å’Œç¼“å­˜æœºåˆ¶
- å‰ç«¯èµ„æºæ‡’åŠ è½½å’Œä»£ç åˆ†å‰²
- CDNåŠ é€Ÿé™æ€èµ„æºåˆ†å‘
- æ•°æ®åº“è¯»å†™åˆ†ç¦»æ¶æ„

## ç‰ˆæœ¬å†å²

### v1.0.0 (2025-01-12)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®ç°åŸºç¡€å¡ç‰Œæˆ˜æ–—ç³»ç»Ÿ
- æ”¯æŒç”¨æˆ·æ³¨å†Œç™»å½•
- å®Œæˆå•†åº—å’Œè£…å¤‡ç³»ç»Ÿ
- æ·»åŠ è¯¦ç»†çš„éƒ¨ç½²æ–‡æ¡£

---

**å¼€å‘è€…**: AIåŠ©æ‰‹
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ12æ—¥
