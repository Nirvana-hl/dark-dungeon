# å°ç¨‹åºè¿ç§» - é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„å¯¹æ¯”

### å½“å‰ç»“æ„ï¼ˆVue 3 Webï¼‰

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ views/              # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ Home.vue
â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â”œâ”€â”€ Camp.vue
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ components/        # ç»„ä»¶
â”‚   â”œâ”€â”€ stores/            # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ lib/               # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ App.vue            # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ main.ts            # å…¥å£æ–‡ä»¶
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

### ç›®æ ‡ç»“æ„ï¼ˆuni-app å°ç¨‹åºï¼‰

```
frontend/
â”œâ”€â”€ pages/                 # é¡µé¢ï¼ˆå¯¹åº” viewsï¼‰
â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â””â”€â”€ home.vue       # å¯¹åº” Home.vue
â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ login.vue      # å¯¹åº” Login.vue
â”‚   â”œâ”€â”€ camp/
â”‚   â”‚   â””â”€â”€ camp.vue       # å¯¹åº” CampOfficial.vue
â”‚   â”œâ”€â”€ battle/
â”‚   â”‚   â””â”€â”€ battle.vue     # å¯¹åº” Game.vue
â”‚   â”œâ”€â”€ explore/
â”‚   â”‚   â””â”€â”€ explore.vue    # å¯¹åº” Explore.vue
â”‚   â”œâ”€â”€ summary/
â”‚   â”‚   â””â”€â”€ summary.vue    # å¯¹åº” Summary.vue
â”‚   â”œâ”€â”€ skills/
â”‚   â”‚   â””â”€â”€ skills.vue     # å¯¹åº” SkillsModern.vue
â”‚   â”œâ”€â”€ shop/
â”‚   â”‚   â””â”€â”€ shop.vue       # å¯¹åº” ShopSimple.vue
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â””â”€â”€ settings.vue   # å¯¹åº” Settings.vue
â”‚   â””â”€â”€ achievements/
â”‚       â””â”€â”€ achievements.vue # å¯¹åº” Achievements.vue
â”œâ”€â”€ components/            # ç»„ä»¶ï¼ˆä¿æŒä¸å˜ï¼‰
â”‚   â”œâ”€â”€ base/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ stores/                # Pinia storesï¼ˆä¿æŒä¸å˜ï¼‰
â”œâ”€â”€ api/                   # API å®¢æˆ·ç«¯ï¼ˆå¯¹åº” libï¼‰
â”‚   â””â”€â”€ request.ts        # å¯¹åº” lib/api.ts
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°ï¼ˆä¿æŒä¸å˜ï¼‰
â”œâ”€â”€ static/                # é™æ€èµ„æºï¼ˆå¯¹åº” publicï¼‰
â”‚   â”œâ”€â”€ sounds/
â”‚   â”œâ”€â”€ tabbar/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ styles/                # æ ·å¼æ–‡ä»¶ï¼ˆä¿æŒä¸å˜ï¼‰
â”œâ”€â”€ App.vue                # åº”ç”¨å…¥å£
â”œâ”€â”€ main.js                # å…¥å£æ–‡ä»¶ï¼ˆå¯¹åº” main.tsï¼‰
â”œâ”€â”€ pages.json             # é¡µé¢è·¯ç”±é…ç½®ï¼ˆæ›¿ä»£ Vue Routerï¼‰
â”œâ”€â”€ manifest.json          # å°ç¨‹åºé…ç½®æ–‡ä»¶
â””â”€â”€ package.json
```

## ğŸ”„ é¡µé¢æ˜ å°„å…³ç³»

### æ ¸å¿ƒé¡µé¢ï¼ˆå¿…é¡»è¿ç§»ï¼‰

| åŸæ–‡ä»¶è·¯å¾„ | æ–°æ–‡ä»¶è·¯å¾„ | è¯´æ˜ | è·¯ç”±è·¯å¾„ |
|-----------|-----------|------|---------|
| `src/views/Home.vue` | `pages/home/home.vue` | é¦–é¡µ | `/` |
| `src/views/Login.vue` | `pages/login/login.vue` | ç™»å½•é¡µ | `/login` |
| `src/views/CampOfficial.vue` | `pages/camp/camp.vue` | è¥åœ°ï¼ˆä½¿ç”¨å®˜æ–¹ç‰ˆæœ¬ï¼‰ | `/camp` |
| `src/views/Game.vue` | `pages/battle/battle.vue` | æˆ˜æ–— | `/battle` |
| `src/views/Explore.vue` | `pages/explore/explore.vue` | é—¯å…³ | `/explore` |
| `src/views/Summary.vue` | `pages/summary/summary.vue` | ç»“ç®— | `/summary` |
| `src/views/SkillsModern.vue` | `pages/skills/skills.vue` | æŠ€èƒ½æ ‘ï¼ˆä½¿ç”¨ç°ä»£ç‰ˆæœ¬ï¼‰ | `/skills` |
| `src/views/ShopSimple.vue` | `pages/shop/shop.vue` | å•†åŸï¼ˆä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬ï¼‰ | `/shop` |
| `src/views/Settings.vue` | `pages/settings/settings.vue` | è®¾ç½® | `/settings` |
| `src/views/Achievements.vue` | `pages/achievements/achievements.vue` | æˆå°± | `/achievements` |

### å¤‡ç”¨/æµ‹è¯•é¡µé¢ï¼ˆå¯é€‰è¿ç§»ï¼‰

è¿™äº›é¡µé¢åœ¨è·¯ç”±ä¸­æœ‰é…ç½®ï¼Œä½†å¯èƒ½ä¸æ˜¯ä¸»è¦ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚å»ºè®®ä¿ç•™ä½œä¸ºå¤‡ç”¨æˆ–æµ‹è¯•ç”¨é€”ï¼š

| åŸæ–‡ä»¶è·¯å¾„ | å»ºè®®å¤„ç†æ–¹å¼ | è¯´æ˜ |
|-----------|-------------|------|
| `src/views/Camp.vue` | ä¿ç•™åœ¨ `pages/camp-original/` æˆ–åˆ é™¤ | åŸå§‹è¥åœ°ç‰ˆæœ¬ï¼ˆè·¯ç”±ï¼š`/camp-original`ï¼‰ |
| `src/views/CampSimple.vue` | ä¿ç•™åœ¨ `pages/camp-simple/` æˆ–åˆ é™¤ | ç®€åŒ–è¥åœ°ç‰ˆæœ¬ï¼ˆè·¯ç”±ï¼š`/camp-simple`ï¼‰ |
| `src/views/CampModern.vue` | ä¿ç•™åœ¨ `pages/camp-modern/` æˆ–åˆ é™¤ | ç°ä»£è¥åœ°ç‰ˆæœ¬ï¼ˆè·¯ç”±ï¼š`/camp-modern`ï¼‰ |
| `src/views/Skills.vue` | ä¿ç•™åœ¨ `pages/skills-original/` æˆ–åˆ é™¤ | åŸå§‹æŠ€èƒ½æ ‘ç‰ˆæœ¬ï¼ˆè·¯ç”±ï¼š`/skills-original`ï¼‰ |
| `src/views/SkillsSimple.vue` | ä¿ç•™åœ¨ `pages/skills-simple/` æˆ–åˆ é™¤ | ç®€åŒ–æŠ€èƒ½æ ‘ç‰ˆæœ¬ï¼ˆæœªåœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼‰ |
| `src/views/ShopModern.vue` | ä¿ç•™åœ¨ `pages/shop-modern/` æˆ–åˆ é™¤ | ç°ä»£å•†åŸç‰ˆæœ¬ï¼ˆè·¯ç”±ï¼š`/shop-modern`ï¼‰ |

**å¤„ç†å»ºè®®**ï¼š
- å¦‚æœç¡®å®šåªä½¿ç”¨ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¯ä»¥åˆ é™¤å…¶ä»–ç‰ˆæœ¬
- å¦‚æœéœ€è¦ä¿ç•™ä½œä¸ºå¤‡ç”¨ï¼Œå¯ä»¥è¿ç§»åˆ°å¯¹åº”çš„å­ç›®å½•
- å¦‚æœä¸éœ€è¦ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤

### æœªä½¿ç”¨çš„é¡µé¢ï¼ˆå»ºè®®åˆ é™¤æˆ–å½’æ¡£ï¼‰

è¿™äº›æ–‡ä»¶åœ¨è·¯ç”±ä¸­æœªä½¿ç”¨ï¼Œå¯èƒ½æ˜¯æ—§ç‰ˆæœ¬æˆ–æµ‹è¯•æ–‡ä»¶ï¼š

| åŸæ–‡ä»¶è·¯å¾„ | å»ºè®®å¤„ç†æ–¹å¼ | è¯´æ˜ |
|-----------|-------------|------|
| `src/views/Attack.vue` | **åˆ é™¤æˆ–å½’æ¡£** | æœªåœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼Œå¯èƒ½æ˜¯æ—§ç‰ˆæœ¬ |
| `src/views/Defense.vue` | **åˆ é™¤æˆ–å½’æ¡£** | æœªåœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼Œå¯èƒ½æ˜¯æ—§ç‰ˆæœ¬ |
| `src/views/Duel.vue` | **åˆ é™¤æˆ–å½’æ¡£** | æœªåœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼Œå¯èƒ½æ˜¯æ—§ç‰ˆæœ¬ |

**å¤„ç†å»ºè®®**ï¼š
- å¦‚æœä¸ç¡®å®šæ˜¯å¦è¿˜éœ€è¦ï¼Œå¯ä»¥å…ˆç§»åŠ¨åˆ° `archive/` ç›®å½•
- å¦‚æœç¡®è®¤ä¸éœ€è¦ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤
- å»ºè®®åœ¨åˆ é™¤å‰å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–æ–‡ä»¶å¼•ç”¨è¿™äº›ç»„ä»¶

## ğŸ“ è¿ç§»æ­¥éª¤

### æ­¥éª¤ 1ï¼šåˆ›å»º pages ç›®å½•ç»“æ„

```bash
# åœ¨ frontend ç›®å½•ä¸‹æ‰§è¡Œ
mkdir -p pages/home
mkdir -p pages/login
mkdir -p pages/camp
mkdir -p pages/battle
mkdir -p pages/explore
mkdir -p pages/summary
mkdir -p pages/skills
mkdir -p pages/shop
mkdir -p pages/settings
mkdir -p pages/achievements
```

### æ­¥éª¤ 2ï¼šç§»åŠ¨é¡µé¢æ–‡ä»¶

#### 2.1 ç§»åŠ¨æ ¸å¿ƒé¡µé¢ï¼ˆå¿…é¡»ï¼‰

```bash
# ç§»åŠ¨æ ¸å¿ƒé¡µé¢æ–‡ä»¶åˆ°å¯¹åº”ç›®å½•
cp src/views/Home.vue pages/home/home.vue
cp src/views/Login.vue pages/login/login.vue
cp src/views/CampOfficial.vue pages/camp/camp.vue
cp src/views/Game.vue pages/battle/battle.vue
cp src/views/Explore.vue pages/explore/explore.vue
cp src/views/Summary.vue pages/summary/summary.vue
cp src/views/SkillsModern.vue pages/skills/skills.vue
cp src/views/ShopSimple.vue pages/shop/shop.vue
cp src/views/Settings.vue pages/settings/settings.vue
cp src/views/Achievements.vue pages/achievements/achievements.vue
```

#### 2.2 å¤„ç†å¤‡ç”¨é¡µé¢ï¼ˆå¯é€‰ï¼‰

å¦‚æœå†³å®šä¿ç•™å¤‡ç”¨ç‰ˆæœ¬ï¼Œå¯ä»¥åˆ›å»ºå¯¹åº”ç›®å½•ï¼š

```bash
# åˆ›å»ºå¤‡ç”¨é¡µé¢ç›®å½•ï¼ˆå¯é€‰ï¼‰
mkdir -p pages/camp-original pages/camp-simple pages/camp-modern
mkdir -p pages/skills-original pages/skills-simple
mkdir -p pages/shop-modern

# ç§»åŠ¨å¤‡ç”¨é¡µé¢ï¼ˆå¦‚æœéœ€è¦ä¿ç•™ï¼‰
cp src/views/Camp.vue pages/camp-original/camp-original.vue
cp src/views/CampSimple.vue pages/camp-simple/camp-simple.vue
cp src/views/CampModern.vue pages/camp-modern/camp-modern.vue
cp src/views/Skills.vue pages/skills-original/skills-original.vue
cp src/views/SkillsSimple.vue pages/skills-simple/skills-simple.vue
cp src/views/ShopModern.vue pages/shop-modern/shop-modern.vue
```

**æ³¨æ„**ï¼šå¦‚æœä¿ç•™å¤‡ç”¨ç‰ˆæœ¬ï¼Œéœ€è¦åœ¨ `pages.json` ä¸­æ·»åŠ å¯¹åº”çš„é¡µé¢é…ç½®ã€‚

#### 2.3 å¤„ç†æœªä½¿ç”¨çš„é¡µé¢

å¯¹äºæœªä½¿ç”¨çš„é¡µé¢ï¼ˆAttack.vueã€Defense.vueã€Duel.vueï¼‰ï¼Œå»ºè®®ï¼š

**æ–¹æ¡ˆä¸€ï¼šåˆ é™¤**ï¼ˆæ¨èï¼‰
```bash
# å¦‚æœç¡®è®¤ä¸éœ€è¦ï¼Œç›´æ¥åˆ é™¤
rm src/views/Attack.vue
rm src/views/Defense.vue
rm src/views/Duel.vue
```

**æ–¹æ¡ˆäºŒï¼šå½’æ¡£**
```bash
# å¦‚æœä¸ç¡®å®šï¼Œå…ˆç§»åŠ¨åˆ°å½’æ¡£ç›®å½•
mkdir -p archive/views
mv src/views/Attack.vue archive/views/
mv src/views/Defense.vue archive/views/
mv src/views/Duel.vue archive/views/
```

### æ­¥éª¤ 3ï¼šç§»åŠ¨é™æ€èµ„æº

```bash
# åˆ›å»º static ç›®å½•
mkdir -p static

# ç§»åŠ¨ public ç›®å½•ä¸‹çš„èµ„æº
cp -r public/* static/

# åˆ›å»º tabbar å›¾æ ‡ç›®å½•ï¼ˆéœ€è¦å‡†å¤‡å›¾æ ‡ï¼‰
mkdir -p static/tabbar
```

### æ­¥éª¤ 4ï¼šè°ƒæ•´ç»„ä»¶å¼•ç”¨è·¯å¾„

åœ¨æ‰€æœ‰é¡µé¢æ–‡ä»¶ä¸­ï¼Œéœ€è¦è°ƒæ•´ç»„ä»¶å¼•ç”¨è·¯å¾„ï¼š

**åŸè·¯å¾„**ï¼š
```vue
<script setup>
import CharacterCard from '@/components/CharacterCard.vue'
</script>
```

**æ–°è·¯å¾„**ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ï¼š
```vue
<script setup>
import CharacterCard from '../../components/CharacterCard.vue'
</script>
```

**æˆ–ä½¿ç”¨åˆ«å**ï¼ˆéœ€è¦åœ¨ `vite.config.ts` æˆ– `tsconfig.json` ä¸­é…ç½®ï¼‰ï¼š
```vue
<script setup>
import CharacterCard from '@/components/CharacterCard.vue'
</script>
```

### æ­¥éª¤ 5ï¼šè°ƒæ•´ API å¼•ç”¨è·¯å¾„

**åŸè·¯å¾„**ï¼š
```typescript
import { campApi } from '@/lib/api'
```

**æ–°è·¯å¾„**ï¼š
```typescript
import { campApi } from '@/api/request'
```

### æ­¥éª¤ 6ï¼šè°ƒæ•´å›¾ç‰‡èµ„æºè·¯å¾„

**åŸè·¯å¾„**ï¼š
```vue
<img src="/background.png" />
```

**æ–°è·¯å¾„**ï¼š
```vue
<image src="/static/background.png" />
```

æ³¨æ„ï¼šå°ç¨‹åºä¸­ä½¿ç”¨ `<image>` æ ‡ç­¾æ›¿ä»£ `<img>` æ ‡ç­¾ã€‚

## âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

### pages.json

- **ä½œç”¨**ï¼šæ›¿ä»£ Vue Routerï¼Œé…ç½®é¡µé¢è·¯ç”±å’Œå¯¼èˆªæ 
- **ä½ç½®**ï¼š`frontend/pages.json`
- **å·²åˆ›å»º**ï¼šâœ…

### manifest.json

- **ä½œç”¨**ï¼šé…ç½®å°ç¨‹åºåŸºæœ¬ä¿¡æ¯ã€æƒé™ã€ç¼–è¯‘é€‰é¡¹ç­‰
- **ä½ç½®**ï¼š`frontend/manifest.json`
- **éœ€è¦é…ç½®**ï¼š
  - `mp-weixin.appid`ï¼šå¾®ä¿¡å°ç¨‹åº AppIDï¼ˆéœ€è¦åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°è·å–ï¼‰
  - `mp-weixin.setting.urlCheck`ï¼šæ˜¯å¦æ£€æŸ¥åˆæ³•åŸŸåï¼ˆå¼€å‘æ—¶è®¾ä¸º falseï¼‰
- **å·²åˆ›å»º**ï¼šâœ…

### main.js / main.ts

- **ä½œç”¨**ï¼šåº”ç”¨å…¥å£æ–‡ä»¶
- **éœ€è¦æ”¹åŠ¨**ï¼š
  - ç§»é™¤ Vue Router ç›¸å…³ä»£ç 
  - ä¿ç•™ Pinia åˆå§‹åŒ–
  - ç§»é™¤è·¯ç”±å®ˆå«ï¼ˆæ”¹ä¸ºé¡µé¢çº§å¤„ç†ï¼‰

## ğŸ¯ å…³é”®æ”¹åŠ¨ç‚¹

### 1. è·¯ç”±è·³è½¬

**åŸä»£ç **ï¼ˆVue Routerï¼‰ï¼š
```typescript
import { useRouter } from 'vue-router'
const router = useRouter()
router.push('/camp')
```

**æ–°ä»£ç **ï¼ˆuni-appï¼‰ï¼š
```typescript
uni.navigateTo({
  url: '/pages/camp/camp'
})
```

### 2. é¡µé¢å‚æ•°

**åŸä»£ç **ï¼š
```typescript
router.push({
  path: '/camp',
  query: { id: '123' }
})
```

**æ–°ä»£ç **ï¼š
```typescript
uni.navigateTo({
  url: '/pages/camp/camp?id=123'
})

// åœ¨ç›®æ ‡é¡µé¢æ¥æ”¶å‚æ•°
import { onLoad } from '@dcloudio/uni-app'
onLoad((options) => {
  const id = options.id
})
```

### 3. è¿”å›ä¸Šä¸€é¡µ

**åŸä»£ç **ï¼š
```typescript
router.back()
```

**æ–°ä»£ç **ï¼š
```typescript
uni.navigateBack()
```

### 4. é¡µé¢æ ‡é¢˜

**åŸä»£ç **ï¼š
```typescript
router.afterEach((to) => {
  document.title = to.meta.title
})
```

**æ–°ä»£ç **ï¼š
åœ¨ `pages.json` ä¸­é…ç½®ï¼Œæˆ–ä½¿ç”¨ï¼š
```typescript
uni.setNavigationBarTitle({
  title: 'æ–°æ ‡é¢˜'
})
```

## ğŸ“¦ ä¾èµ–è°ƒæ•´

### éœ€è¦å®‰è£…çš„ä¾èµ–

```bash
npm install @dcloudio/uni-app
npm install @dcloudio/uni-app-vite
```

### å¯ä»¥ç§»é™¤çš„ä¾èµ–

```bash
npm uninstall vue-router
```

### éœ€è¦ä¿ç•™çš„ä¾èµ–

- `vue`ï¼šuni-app åŸºäº Vue 3
- `pinia`ï¼šçŠ¶æ€ç®¡ç†ï¼Œå®Œå…¨å…¼å®¹
- `axios`ï¼šå¯ä»¥ä¿ç•™ï¼Œä½†å»ºè®®æ”¹ä¸º `uni.request`

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¡µé¢æ–‡ä»¶å‘½å**ï¼šå¿…é¡»ä¸ `pages.json` ä¸­çš„ `path` ä¸€è‡´
2. **ç»„ä»¶æ ‡ç­¾**ï¼š`div` â†’ `view`ï¼Œ`span` â†’ `text`ï¼Œ`img` â†’ `image`
3. **æ ·å¼é™åˆ¶**ï¼šä¸æ”¯æŒéƒ¨åˆ† CSS å±æ€§ï¼Œéœ€è¦é€‚é…
4. **ç”Ÿå‘½å‘¨æœŸ**ï¼š`onMounted` â†’ `onLoad` + `onShow`
5. **é™æ€èµ„æº**ï¼šå¿…é¡»æ”¾åœ¨ `static/` ç›®å½•
6. **åŒ…ä½“ç§¯é™åˆ¶**ï¼šä¸»åŒ…ä¸è¶…è¿‡ 2MBï¼Œéœ€è¦åˆ†åŒ…

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [uni-app å®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/)
- [å°ç¨‹åºè¿ç§»æŠ¥å‘Š.md](../å°ç¨‹åºè¿ç§»æŠ¥å‘Š.md)

