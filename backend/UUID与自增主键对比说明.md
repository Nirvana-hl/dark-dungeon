# UUID vs 自增主键对比说明

## 📊 对比分析

### UUID（当前方案）

**优点**：
- ✅ 分布式系统友好，多服务器不会冲突
- ✅ 安全性好，不容易被猜测（如：`11111111-1111-1111-1111-111111111111`）
- ✅ 不需要数据库自增序列，适合分库分表
- ✅ 可以在应用层生成，不依赖数据库

**缺点**：
- ❌ 占用空间大（CHAR(36) = 36字节 vs BIGINT = 8字节）
- ❌ 不直观，难以观察和调试（`a1b2c3d4-e5f6-7890-abcd-ef1234567890`）
- ❌ 索引性能稍差（字符串索引 vs 数字索引）
- ❌ 对于单机应用来说可能过度设计

### 自增主键（推荐用于开发）

**优点**：
- ✅ **直观易读**：1, 2, 3, 4... 一眼就能看出顺序
- ✅ **占用空间小**：BIGINT 只需 8 字节
- ✅ **索引性能好**：数字索引比字符串索引快
- ✅ **开发调试方便**：容易记住和引用
- ✅ **适合单机应用**：不需要考虑分布式冲突

**缺点**：
- ❌ 分布式环境下可能冲突（但单机应用没问题）
- ❌ 安全性稍差（容易被猜测，但可以通过权限控制）
- ❌ 需要数据库支持自增（MySQL完全支持）

## 🎯 建议

**对于你的项目（单机应用，开发阶段）**：
- ✅ **推荐使用自增主键**，因为：
  1. 更直观，方便观察和调试
  2. 性能更好
  3. 占用空间更小
  4. 开发效率更高

**如果未来需要分布式部署**：
- 可以再改回UUID
- 或者使用雪花算法（Snowflake）生成ID

## 🔄 修改方案

如果要改为自增主键，需要修改：

1. **数据库表结构**：`CHAR(36)` → `BIGINT AUTO_INCREMENT`
2. **实体类**：`String id` → `Long id`，`@TableId(type = IdType.AUTO)`
3. **配置文件**：`id-type: assign_id` → `id-type: auto`
4. **外键字段**：所有 `CHAR(36)` 的外键改为 `BIGINT`
5. **测试数据脚本**：移除UUID，使用自增ID

---

**结论**：对于开发阶段，自增主键更合适！

