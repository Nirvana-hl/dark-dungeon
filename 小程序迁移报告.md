# 暗黑地牢肉鸽 - 小程序迁移报告

> **文档版本**：v1.0  
> **创建日期**：2025-01-XX  
> **项目状态**：规划中  
> **目标平台**：微信小程序（可扩展至其他小程序平台）

---

## 📑 目录

1. [项目概述](#1-项目概述)
2. [前端迁移方案](#2-前端迁移方案)
3. [后端调整方案](#3-后端调整方案)
4. [技术选型建议](#4-技术选型建议)
5. [迁移步骤](#5-迁移步骤)
6. [风险评估](#6-风险评估)
7. [工作量评估](#7-工作量评估)

---

## 1. 项目概述

### 1.1 当前架构

**前端技术栈**：
- Vue 3 + TypeScript + Vite
- Pinia（状态管理）
- Vue Router（路由）
- Axios（HTTP客户端）
- Tailwind CSS（样式框架）

**后端技术栈**：
- Spring Boot 2.7.18
- MyBatis Plus 3.5.3
- Spring Security + JWT
- MySQL 8.0+

**通信方式**：
- RESTful API
- JWT Token 认证
- CORS 跨域支持

### 1.2 迁移目标

将现有的 Web 应用迁移到小程序平台，保持核心功能不变，适配小程序环境特性。

---

## 2. 前端迁移方案

### 2.1 框架选择

#### 方案一：uni-app（推荐）⭐⭐⭐

**优势**：
- ✅ 一套代码多端运行（微信/支付宝/字节跳动等小程序 + H5 + App）
- ✅ 语法接近 Vue 3，迁移成本低
- ✅ 丰富的插件生态
- ✅ 官方文档完善，社区活跃

**劣势**：
- ⚠️ 部分 Vue 3 特性需要适配
- ⚠️ 打包体积相对较大

**适用场景**：需要支持多个小程序平台，或未来可能扩展到 App

#### 方案二：Taro（备选）

**优势**：
- ✅ 支持 React/Vue 3 语法
- ✅ 跨端能力强
- ✅ 性能优化较好

**劣势**：
- ⚠️ 学习成本稍高
- ⚠️ Vue 3 支持相对较新

**适用场景**：团队熟悉 React，或需要更强的跨端能力

#### 方案三：原生小程序开发

**优势**：
- ✅ 性能最优
- ✅ 体积最小
- ✅ 官方支持最好

**劣势**：
- ❌ 需要完全重写代码
- ❌ 无法复用现有 Vue 代码
- ❌ 维护成本高（多端需要多套代码）

**适用场景**：仅支持微信小程序，且对性能要求极高

**推荐方案**：**uni-app**（基于现有 Vue 3 代码，迁移成本最低）

### 2.2 核心改动清单

#### 2.2.1 项目结构改造

**当前结构**：
```
frontend/
├── src/
│   ├── components/     # Vue 组件
│   ├── views/          # 页面视图
│   ├── stores/         # Pinia stores
│   ├── lib/            # API 客户端
│   ├── utils/          # 工具函数
│   └── styles/         # 样式文件
├── public/             # 静态资源
└── package.json
```

**uni-app 结构**：
```
miniprogram/
├── pages/              # 页面（对应 views）
│   ├── home/
│   ├── camp/
│   ├── battle/
│   └── ...
├── components/         # 组件（对应 components）
├── stores/            # Pinia stores（可复用）
├── api/               # API 客户端（对应 lib/api.ts）
├── utils/             # 工具函数
├── static/            # 静态资源（对应 public）
├── uni_modules/       # uni-app 插件
├── App.vue            # 应用入口
├── main.js            # 入口文件
├── manifest.json      # 小程序配置
└── pages.json         # 页面路由配置
```

**需要改动**：
- ✅ 创建 `pages.json` 替代 Vue Router 配置
- ✅ 将 `views/` 目录改为 `pages/` 目录
- ✅ 调整组件引用路径
- ✅ 配置 `manifest.json`（小程序 AppID、权限等）

#### 2.2.2 路由系统改造

**当前实现**（Vue Router）：
```typescript
// main.ts
const routes: RouteRecordRaw[] = [
  { path: '/', component: Home },
  { path: '/camp', component: CampOfficial },
  { path: '/battle', component: Game },
  // ...
]

const router = createRouter({
  history: createWebHistory(),
  routes
})
```

**uni-app 实现**（pages.json）：
```json
{
  "pages": [
    {
      "path": "pages/home/home",
      "style": {
        "navigationBarTitleText": "暗黑地牢肉鸽"
      }
    },
    {
      "path": "pages/camp/camp",
      "style": {
        "navigationBarTitleText": "营地"
      }
    },
    {
      "path": "pages/battle/battle",
      "style": {
        "navigationBarTitleText": "战斗"
      }
    }
  ],
  "tabBar": {
    "list": [
      {
        "pagePath": "pages/home/home",
        "text": "首页",
        "iconPath": "static/tabbar/home.png",
        "selectedIconPath": "static/tabbar/home-active.png"
      }
    ]
  }
}
```

**路由跳转改造**：
```typescript
// 当前：Vue Router
router.push('/camp')

// uni-app
uni.navigateTo({
  url: '/pages/camp/camp'
})

// 或使用组合式 API
import { useRouter } from 'vue-router'
const router = useRouter()
router.push('/camp')
```

**需要改动**：
- ✅ 将所有 `router.push()` 改为 `uni.navigateTo()` 或 `uni.switchTab()`
- ✅ 将 `router.replace()` 改为 `uni.redirectTo()`
- ✅ 将 `router.back()` 改为 `uni.navigateBack()`
- ✅ 处理路由参数传递方式（query → url 参数）

#### 2.2.3 状态管理改造

**当前实现**（Pinia）：
```typescript
// stores/auth.ts
export const useAuthStore = defineStore('auth', {
  state: () => ({
    token: localStorage.getItem('token'),
    user: null
  }),
  actions: {
    async login(email: string, password: string) {
      // ...
    }
  }
})
```

**uni-app 实现**（Pinia 可复用）：
```typescript
// stores/auth.ts（基本无需改动）
export const useAuthStore = defineStore('auth', {
  state: () => ({
    token: uni.getStorageSync('token'),  // 改为 uni API
    user: null
  }),
  actions: {
    async login(email: string, password: string) {
      // API 调用逻辑保持不变
    }
  }
})
```

**需要改动**：
- ✅ `localStorage` → `uni.getStorageSync()` / `uni.setStorageSync()`
- ✅ `sessionStorage` → `uni.getStorageSync()` / `uni.setStorageSync()`
- ✅ Pinia stores 基本可复用，只需修改存储 API

#### 2.2.4 HTTP 客户端改造

**当前实现**（Axios）：
```typescript
// lib/api.ts
import axios from 'axios'

const apiClient = axios.create({
  baseURL: 'http://26.83.153.194:8080',
  timeout: 10000
})

apiClient.interceptors.request.use((config) => {
  const token = localStorage.getItem('token')
  if (token) {
    config.headers.Authorization = `Bearer ${token}`
  }
  return config
})
```

**uni-app 实现**（uni.request）：
```typescript
// api/request.ts
interface RequestOptions {
  url: string
  method?: 'GET' | 'POST' | 'PUT' | 'DELETE'
  data?: any
  header?: Record<string, string>
}

export function request<T = any>(options: RequestOptions): Promise<T> {
  return new Promise((resolve, reject) => {
    const token = uni.getStorageSync('token')
    
    uni.request({
      url: `http://26.83.153.194:8080${options.url}`,
      method: options.method || 'GET',
      data: options.data,
      header: {
        'Content-Type': 'application/json',
        'Authorization': token ? `Bearer ${token}` : '',
        ...options.header
      },
      timeout: 10000,
      success: (res) => {
        if (res.statusCode === 200) {
          resolve(res.data as T)
        } else {
          reject(new Error(res.data?.message || '请求失败'))
        }
      },
      fail: (err) => {
        reject(err)
      }
    })
  })
}

// 使用示例
export const campApi = {
  async getCampData() {
    return await request<ApiResponse<CampData>>({
      url: '/camp/dashboard',
      method: 'GET'
    })
  }
}
```

**需要改动**：
- ✅ 将所有 `axios` 调用改为 `uni.request()`
- ✅ 重写请求拦截器（使用 uni.request 的 header 参数）
- ✅ 重写响应拦截器（使用 uni.request 的 success/fail 回调）
- ✅ 处理网络错误（小程序网络错误码不同）
- ✅ 处理登录过期跳转（使用 `uni.reLaunch()` 跳转到登录页）

#### 2.2.5 UI 组件改造

**当前实现**（Tailwind CSS + 自定义组件）：
```vue
<template>
  <div class="min-h-screen flex flex-col bg-slate-900">
    <button class="px-4 py-2 bg-blue-500 text-white rounded">
      按钮
    </button>
  </div>
</template>
```

**uni-app 实现**（uni-ui / uView UI）：
```vue
<template>
  <view class="container">
    <button class="btn" @click="handleClick">按钮</button>
  </view>
</template>

<style lang="scss">
.container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: #0f172a;
}

.btn {
  padding: 8px 16px;
  background-color: #3b82f6;
  color: white;
  border-radius: 4px;
}
</style>
```

**需要改动**：
- ❌ **Tailwind CSS 不支持**：需要改为传统 CSS/SCSS
- ✅ 使用 `view` 替代 `div`，`text` 替代 `span`
- ✅ 使用 `button`、`input` 等小程序原生组件
- ✅ 安装 uni-ui 或 uView UI 组件库
- ✅ 重写所有使用 Tailwind 的工具类
- ✅ 适配小程序样式限制（不支持部分 CSS 属性）

**样式限制**：
- ❌ 不支持 `position: fixed`（需使用 `position: sticky`）
- ❌ 不支持部分 CSS3 动画
- ❌ 不支持 `::before` / `::after` 伪元素（部分场景）
- ⚠️ 字体文件需要放在 `static/` 目录
- ⚠️ 图片需要压缩优化（小程序包大小限制）

#### 2.2.6 页面生命周期改造

**当前实现**（Vue 3 Composition API）：
```vue
<script setup>
import { onMounted } from 'vue'

onMounted(() => {
  // 页面加载时执行
})
</script>
```

**uni-app 实现**（兼容 Vue 3，但需使用页面生命周期）：
```vue
<script setup>
import { onLoad, onShow, onReady } from '@dcloudio/uni-app'

onLoad((options) => {
  // 页面加载时执行（类似 onMounted）
  // options 包含页面参数
})

onShow(() => {
  // 页面显示时执行（每次进入页面都会触发）
})

onReady(() => {
  // 页面初次渲染完成
})
</script>
```

**需要改动**：
- ✅ 将 `onMounted` 改为 `onLoad`（页面加载）
- ✅ 添加 `onShow` 处理页面显示逻辑（如刷新数据）
- ✅ 处理页面参数（`onLoad` 的 `options` 参数）

#### 2.2.7 文件上传/下载改造

**当前实现**（Web File API）：
```typescript
// 文件上传（如果项目中有）
const fileInput = document.createElement('input')
fileInput.type = 'file'
fileInput.onchange = (e) => {
  const file = e.target.files[0]
  // 上传逻辑
}
```

**uni-app 实现**（uni.chooseImage / uni.uploadFile）：
```typescript
// 选择图片
uni.chooseImage({
  count: 1,
  success: (res) => {
    const tempFilePath = res.tempFilePaths[0]
    // 上传文件
    uni.uploadFile({
      url: 'http://26.83.153.194:8080/api/upload',
      filePath: tempFilePath,
      name: 'file',
      header: {
        'Authorization': `Bearer ${token}`
      },
      success: (uploadRes) => {
        console.log('上传成功', uploadRes)
      }
    })
  }
})
```

**需要改动**：
- ✅ 如果有文件上传功能，改为 `uni.chooseImage()` + `uni.uploadFile()`
- ✅ 如果有文件下载，改为 `uni.downloadFile()`

#### 2.2.8 音效系统改造

**当前实现**（Web Audio API）：
```typescript
// utils/soundManager.ts
const audio = new Audio('/sounds/hit.mp3')
audio.play()
```

**uni-app 实现**（uni.createInnerAudioContext）：
```typescript
// utils/soundManager.ts
const audio = uni.createInnerAudioContext()
audio.src = '/static/sounds/hit.mp3'
audio.play()

// 注意：小程序中音频需要用户交互才能播放
```

**需要改动**：
- ✅ 将 `Audio` 对象改为 `uni.createInnerAudioContext()`
- ✅ 处理小程序音频播放限制（需要用户交互）
- ✅ 音频文件放在 `static/sounds/` 目录

#### 2.2.9 其他改动

**1. 环境变量**
```typescript
// 当前：Vite 环境变量
const API_BASE_URL = import.meta.env.VITE_API_BASE_URL

// uni-app：manifest.json 或 config.js
const API_BASE_URL = 'http://26.83.153.194:8080'
```

**2. 图片资源**
- ✅ 将所有图片从 `public/` 移到 `static/` 目录
- ✅ 使用相对路径或绝对路径引用
- ✅ 压缩图片以减小包体积

**3. 字体文件**
- ✅ 字体文件放在 `static/fonts/` 目录
- ✅ 在 `App.vue` 中引入字体

**4. 第三方库兼容性**
- ⚠️ 检查所有 npm 包是否支持小程序环境
- ⚠️ 部分浏览器 API 不可用（如 `window`、`document`）

---

## 3. 后端调整方案

### 3.1 跨域配置调整

**当前配置**（CORS）：
```java
// CorsConfig.java
config.addAllowedOriginPattern("http://localhost:5180");
config.setAllowCredentials(true);
```

**小程序调整**：
- ✅ **小程序不需要 CORS**：小程序请求不经过浏览器，不存在跨域问题
- ✅ **但需要配置域名白名单**：在微信公众平台配置服务器域名
- ✅ **移除 CORS 配置**（可选，保留也不影响）

**微信小程序域名配置**：
1. 登录微信公众平台
2. 开发 → 开发管理 → 开发设置 → 服务器域名
3. 配置以下域名：
   - **request 合法域名**：`http://26.83.153.194:8080`
   - **uploadFile 合法域名**：`http://26.83.153.194:8080`（如果有文件上传）
   - **downloadFile 合法域名**：`http://26.83.153.194:8080`（如果有文件下载）

**建议**：
- ✅ 保留 CORS 配置（不影响小程序，且方便 H5 调试）
- ✅ 生产环境使用 HTTPS（小程序要求）

### 3.2 认证系统调整

**当前实现**（JWT Token）：
```java
// 前端在请求头中携带 Token
Authorization: Bearer {token}
```

**小程序调整**：
- ✅ **JWT 认证方式不变**：小程序同样在请求头中携带 Token
- ⚠️ **可选：集成微信登录**：提供更便捷的登录方式

**微信登录集成（可选）**：
```java
// AuthController.java 新增接口
@PostMapping("/auth/wechat-login")
public Result<LoginResponse> wechatLogin(@RequestBody WechatLoginRequest request) {
    // 1. 通过 code 换取 openid 和 session_key
    // 2. 查询或创建用户
    // 3. 生成 JWT Token
    // 4. 返回 Token 和用户信息
}
```

**需要改动**：
- ✅ 保持现有 JWT 认证逻辑不变
- ⚠️ （可选）新增微信登录接口
- ✅ 确保 Token 存储和刷新机制在小程序中正常工作

### 3.3 接口适配

**当前接口**：
- ✅ 所有 RESTful API 接口**无需改动**
- ✅ 小程序使用 `uni.request()` 调用，与 Axios 调用方式类似
- ✅ 请求/响应格式保持不变

**需要注意**：
- ⚠️ **HTTPS 要求**：小程序生产环境必须使用 HTTPS
- ⚠️ **域名备案**：服务器域名需要备案（国内服务器）
- ⚠️ **接口响应时间**：小程序对接口响应时间有要求（建议 < 3秒）

### 3.4 文件上传接口（如需要）

**当前实现**（如果有）：
```java
@PostMapping("/api/upload")
public Result<String> uploadFile(@RequestParam("file") MultipartFile file) {
    // 文件上传逻辑
}
```

**小程序调整**：
- ✅ 接口**无需改动**
- ✅ 小程序使用 `uni.uploadFile()` 调用
- ⚠️ 需要配置 `uploadFile` 合法域名

### 3.5 错误处理优化

**当前实现**：
```java
// 统一响应格式
{
  "code": 200,
  "message": "操作成功",
  "data": {}
}
```

**小程序调整**：
- ✅ 保持统一响应格式
- ✅ 小程序端根据 `code` 判断成功/失败
- ⚠️ 错误信息需要用户友好（小程序无法显示详细错误）

### 3.6 性能优化建议

**1. 接口响应优化**：
- ✅ 使用 Redis 缓存热点数据
- ✅ 数据库查询优化（索引、分页）
- ✅ 接口合并（如营地仪表盘已实现聚合接口）

**2. 数据压缩**：
- ✅ 启用 Gzip 压缩
- ✅ 减少响应数据量（只返回必要字段）

**3. 接口限流**：
- ✅ 防止恶意请求
- ✅ 保护服务器资源

---

## 4. 技术选型建议

### 4.1 前端框架选择

| 方案 | 优势 | 劣势 | 工作量 | 推荐度 |
|------|------|------|--------|--------|
| **uni-app** | 语法接近 Vue 3，迁移成本低，多端支持 | 打包体积较大 | ⭐⭐ | ⭐⭐⭐ |
| **Taro** | 跨端能力强，性能好 | 学习成本高，Vue 3 支持较新 | ⭐⭐⭐ | ⭐⭐ |
| **原生小程序** | 性能最优，体积最小 | 完全重写，无法复用代码 | ⭐⭐⭐⭐⭐ | ⭐ |

**推荐**：**uni-app**（基于现有 Vue 3 代码，迁移成本最低）

### 4.2 UI 组件库选择

| 方案 | 优势 | 劣势 | 推荐度 |
|------|------|------|--------|
| **uni-ui** | 官方组件库，兼容性好 | 组件较少，样式定制性一般 | ⭐⭐ |
| **uView UI** | 组件丰富，文档完善 | 体积较大 | ⭐⭐⭐ |
| **自定义组件** | 完全可控，体积小 | 开发工作量大 | ⭐ |

**推荐**：**uView UI**（组件丰富，适合快速开发）

### 4.3 状态管理

- ✅ **继续使用 Pinia**：uni-app 完全支持 Pinia，无需改动

### 4.4 HTTP 客户端

- ✅ **使用 uni.request 封装**：替代 Axios，功能类似

---

## 5. 迁移步骤

### 阶段一：环境准备（1-2天）

1. **创建 uni-app 项目**
   ```bash
   # 使用 HBuilderX 或 CLI
   npx degit dcloudio/uni-preset-vue#vite-ts my-project
   ```

2. **安装依赖**
   ```bash
   npm install
   npm install pinia
   npm install @dcloudio/uni-app
   ```

3. **配置 manifest.json**
   - 配置小程序 AppID
   - 配置服务器域名
   - 配置权限（如网络请求、存储等）

### 阶段二：核心功能迁移（5-7天）

1. **API 客户端改造**（1天）
   - 创建 `api/request.ts` 封装 `uni.request`
   - 迁移所有 API 方法
   - 测试接口调用

2. **状态管理迁移**（1天）
   - 迁移 Pinia stores
   - 修改存储 API（localStorage → uni.getStorageSync）
   - 测试状态管理

3. **路由系统改造**（1天）
   - 创建 `pages.json` 配置
   - 迁移所有页面路由
   - 修改页面跳转逻辑

4. **页面组件迁移**（3-4天）
   - 迁移核心页面（登录、首页、营地、战斗）
   - 修改组件引用路径
   - 适配小程序组件（div → view）

### 阶段三：UI 样式改造（3-5天）

1. **移除 Tailwind CSS**（1天）
   - 将所有 Tailwind 类改为传统 CSS
   - 创建统一的样式文件

2. **安装 UI 组件库**（1天）
   - 安装 uView UI 或 uni-ui
   - 配置组件库

3. **组件样式重写**（2-3天）
   - 重写所有使用 Tailwind 的组件
   - 适配小程序样式限制
   - 优化图片资源

### 阶段四：功能适配（2-3天）

1. **生命周期适配**（1天）
   - 将 `onMounted` 改为 `onLoad`
   - 添加 `onShow` 处理页面显示

2. **音效系统适配**（1天）
   - 改为 `uni.createInnerAudioContext`
   - 处理音频播放限制

3. **文件上传适配**（如有，1天）
   - 改为 `uni.chooseImage` + `uni.uploadFile`

### 阶段五：测试与优化（3-5天）

1. **功能测试**（2天）
   - 测试所有核心功能
   - 修复 bug

2. **性能优化**（1-2天）
   - 优化包体积
   - 优化图片资源
   - 优化接口调用

3. **兼容性测试**（1天）
   - 测试不同版本微信
   - 测试不同设备

### 阶段六：后端调整（1-2天）

1. **域名配置**（0.5天）
   - 配置微信小程序域名白名单
   - 配置 HTTPS（生产环境）

2. **接口测试**（0.5-1天）
   - 测试所有接口在小程序中的调用
   - 优化接口响应时间

3. **（可选）微信登录**（1天）
   - 集成微信登录接口
   - 测试登录流程

---

## 6. 风险评估

### 6.1 技术风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|----------|
| **Tailwind CSS 不支持** | 高 | 高 | 提前规划样式重写方案，使用 UI 组件库 |
| **部分 Vue 3 特性不兼容** | 中 | 中 | 使用 uni-app 兼容的语法，避免使用不兼容特性 |
| **小程序包体积限制** | 中 | 中 | 优化图片资源，使用代码分包 |
| **音频播放限制** | 低 | 高 | 使用用户交互触发音频播放 |
| **接口响应时间** | 中 | 低 | 优化后端接口，使用缓存 |

### 6.2 业务风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|----------|
| **功能缺失** | 高 | 低 | 详细对比功能清单，确保核心功能完整 |
| **用户体验下降** | 中 | 中 | 充分测试，优化交互流程 |
| **性能问题** | 中 | 中 | 性能测试，优化代码和资源 |

### 6.3 时间风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|----------|
| **迁移时间超期** | 中 | 中 | 合理评估工作量，分阶段实施 |
| **测试时间不足** | 中 | 中 | 预留充足测试时间 |

---

## 7. 工作量评估

### 7.1 前端工作量

| 任务 | 工作量 | 说明 |
|------|--------|------|
| **环境准备** | 1-2天 | 创建项目，安装依赖，配置 |
| **API 客户端改造** | 1天 | 封装 uni.request，迁移 API 方法 |
| **状态管理迁移** | 1天 | 迁移 Pinia stores，修改存储 API |
| **路由系统改造** | 1天 | 创建 pages.json，修改页面跳转 |
| **页面组件迁移** | 3-4天 | 迁移核心页面，修改组件引用 |
| **UI 样式改造** | 3-5天 | 移除 Tailwind，重写样式，安装 UI 库 |
| **功能适配** | 2-3天 | 生命周期、音效、文件上传等 |
| **测试与优化** | 3-5天 | 功能测试，性能优化，兼容性测试 |
| **总计** | **15-22天** | 约 3-4 周 |

### 7.2 后端工作量

| 任务 | 工作量 | 说明 |
|------|--------|------|
| **域名配置** | 0.5天 | 配置微信小程序域名白名单 |
| **接口测试** | 0.5-1天 | 测试接口在小程序中的调用 |
| **（可选）微信登录** | 1天 | 集成微信登录接口 |
| **性能优化** | 1-2天 | 接口响应优化，缓存等 |
| **总计** | **2-4.5天** | 约 0.5-1 周 |

### 7.3 总工作量

- **前端**：15-22 天（1人，3-4周）
- **后端**：2-4.5 天（1人，0.5-1周）
- **总计**：**17-26.5 天**（约 3.5-5 周）

---

## 8. 关键改动总结

### 8.1 前端关键改动

1. ✅ **框架迁移**：Vue 3 → uni-app
2. ✅ **路由系统**：Vue Router → pages.json + uni.navigateTo
3. ✅ **HTTP 客户端**：Axios → uni.request
4. ✅ **存储 API**：localStorage → uni.getStorageSync
5. ❌ **样式框架**：Tailwind CSS → 传统 CSS + UI 组件库
6. ✅ **组件标签**：div → view，span → text
7. ✅ **生命周期**：onMounted → onLoad + onShow
8. ✅ **音效系统**：Audio → uni.createInnerAudioContext

### 8.2 后端关键改动

1. ✅ **域名配置**：配置微信小程序域名白名单
2. ✅ **HTTPS**：生产环境必须使用 HTTPS
3. ⚠️ **（可选）微信登录**：集成微信登录接口
4. ✅ **接口优化**：优化响应时间，使用缓存

---

## 9. 后续优化建议

### 9.1 性能优化

1. **代码分包**：
   - 使用 uni-app 的分包功能
   - 按功能模块分包，减小主包体积

2. **图片优化**：
   - 使用 WebP 格式
   - 压缩图片资源
   - 使用 CDN 托管图片

3. **接口优化**：
   - 使用接口缓存
   - 合并接口请求
   - 使用分页加载

### 9.2 功能扩展

1. **微信登录**：提供更便捷的登录方式
2. **分享功能**：支持分享到微信好友/群
3. **消息推送**：使用小程序订阅消息
4. **支付功能**：集成微信支付（如需要）

### 9.3 多端支持

1. **支付宝小程序**：uni-app 支持，配置即可
2. **字节跳动小程序**：uni-app 支持，配置即可
3. **H5**：uni-app 支持，可作为 Web 版本

---

## 10. 参考资料

### 10.1 官方文档

- [uni-app 官方文档](https://uniapp.dcloud.net.cn/)
- [微信小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [uView UI 文档](https://www.uviewui.com/)

### 10.2 迁移工具

- [uni-app CLI](https://uniapp.dcloud.net.cn/quickstart-cli.html)
- [HBuilderX](https://www.dcloud.io/hbuilderx.html)

---

**文档维护**：本文档会随着迁移进度持续更新。

**最后更新**：2025-01-XX  
**文档版本**：v1.0  
**维护者**：项目团队

